{% extends "base.html" %}

{% block head %}

<!-- These svgs were generated by Claude-Sonnet-3.7 -->
<svg style="display: none;">
    <symbol id="file-icon" viewBox="0 0 24 24">
        <path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2Z" fill="none" stroke="currentColor" stroke-width="1.5"/>
        <path d="M14 2V8H20" fill="none" stroke="currentColor" stroke-width="1.5"/>
    </symbol>
</svg>

<svg style="display: none;">
    <symbol id="directory-icon" viewBox="0 0 24 24">
        <path d="M20 6H12L10 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V8C22 6.9 21.1 6 20 6Z" fill="currentColor" stroke="none" stroke-width="1.5"/>
    </symbol>
</svg>

<svg style="display: none;">
    <symbol id="copy-icon" viewBox="0 0 24 24">
        <path d="M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1Z" fill="currentColor"/>
        <path d="M19 5H8C6.9 5 6 5.9 6 7V21C6 22.1 6.9 23 8 23H19C20.1 23 21 22.1 21 21V7C21 5.9 20.1 5 19 5ZM19 21H8V7H19V21Z" fill="currentColor"/>
    </symbol>
</svg>

{% endblock %}

{% block body %}
<div class="flex-container-column">
    <div class="flex-container-lr">
        <div class="repo-name">{{name}}</div>
        <div class="clone-button-container">
            <button id="clone-button" onclick="toggle_clone_info()">Clone</button>
            <div id="clone-info" style="display: none;">rag clone http://ragit.baehyunsol.com/sample/{{name}} &nbsp; <svg id="copy-button" width="16" height="16" onclick="copy_clone_code()"><use href="#copy-icon"></svg></div>
            <script>
                function copy_clone_code() {
                    navigator.clipboard.writeText("rag clone http://ragit.baehyunsol.com/sample/{{name}}");
                }
            </script>
        </div>
    </div>
    <hr />
    <div class="section-top">
        <div class="file-viewer landscape-only">
            <code>
                {% for file_entry in file_entries %}
                    {% if file_entry.pre_line %}
                        <pre>{{file_entry.pre_line}}</pre>
                        <br />
                    {% endif %}
                    <pre>{{file_entry.prefix}}</pre><div class="file-name">{% if file_entry.type == 'file' %}<svg width="16" height="16"><use href="#file-icon"></svg>{% elif file_entry.type == 'directory' %}<svg width="16" height="16"><use href="#directory-icon"></svg>{% endif %}<a href="{{file_entry.href}}">{{file_entry.name|truncate(length=32)}}</a>{% if file_entry.anchor %}<a id="{{file_entry.anchor}}"></a>{% endif %}</div>
                    {% if file_entry.post_line %}
                        <br />
                        <pre>{{file_entry.post_line}}</pre>
                    {% endif %}
                    <br />
                {% endfor %}
            </code>
        </div>
        <div class="metadata">
            <div class="wrap">{{description}}</div>
            <div><a href="{{website}}">{{website}}</a></div>
            <hr />
            <div>Created: {{created_at|render_time}}</div>
            <div>Updated: {{updated_at|render_time}}</div>
            <div>Clones (weekly): {{clone_weekly}}</div>
            <div>Clones (total): {{clone_total}}</div>
        </div>
    </div>
    <div class="markdown">{{readme|markdown|safe}}</div>
</div>
{% endblock %}
